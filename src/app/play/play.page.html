<ion-header>
  <ion-toolbar [style.--background]="data.backgroundColor">
    <ion-buttons slot="start">
      <ion-back-button text="" color="light" (click)="voltar()"></ion-back-button>
    </ion-buttons>
    <ion-title color="light">{{ data?.title }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content scrollEvents="true"  [fullscreen]="true" [appImageFade]="cover" *ngIf="data" [style.--custombg]="data.backgroundColor">
  <div>
    <ng-lottie 
    [options]="optionsLottieTime" 
    width="100px"
    height="100px"
    >
    </ng-lottie>
  </div>
  <!-- Image of the album -->
  <div class="ion-text-center image-box" #cover>
    <img [src]="'/assets/images/albums/'+dasherize(data.image)+'.jpg'" *ngIf="data">
    <ion-grid class='controleTimer'>
      <ion-row>
        <ion-col size="3" (click)="menos10min()">
          <ion-icon name="remove-circle-outline"></ion-icon>
          <ion-label>-10 min</ion-label>
        </ion-col>
        <ion-col size="6">
          <p>{{hours}}:{{minutes}}:{{seconds}}</p>
        </ion-col>
        <ion-col size="3" (click)="plus10min()">
          <ion-icon id="iconPlus" name="add-circle-outline"></ion-icon>
          <ion-label>+10 min</ion-label>
        </ion-col>
      </ion-row>
      <div>
        <ion-range min="0" max="10" step="1" value="6" color="secondary" pin="true"  (ionChange)="volume($event, data.musica)"></ion-range>
        <ion-label>volume</ion-label>
      </div>
      
    </ion-grid>
  </div>
  
  <!-- Rest of the page content -->
  
  <div class="main">

    <div class="tocando">
      <ion-row *ngIf="tinglesAdds.length > 0">
        
        <ion-col size="10" class="ion-no-padding">
          <div class="scrolling-wrapper">
            <div class="tingleAdd" tappable *ngFor='let tingle of tinglesAdds'>
              
                <img id="circulo" [src]="'/assets/images/albums/'+tingle.image+'.jpg'">
              
              <!--<span class="title">{{ tingle.title }}</span>-->
              <div class="volume">
                <ion-range min="0" max="10" step="1" value="6" color="secondary" pin="true"  (ionChange)="volume($event, tingle.image)"></ion-range>
              </div>
            </div>
          </div>
        
        </ion-col>
        <ion-col size="2" class="ion-text-center ion-no-padding">
          <ion-icon name="play-sharp" color="light"   (click)="playAll()" ></ion-icon>
          <ion-icon name="stop-sharp" color="light"   (click)="stopAll()" ></ion-icon>
        </ion-col>
      </ion-row>
    </div>
    
    <!-- Controle do play -->
    <ion-row class="ion-no-padding" *ngFor="let entry of dataRepoGatilhos; let isFirst = first">
      <!--  Section Title -->
      <ion-col size="9">
        <h2 class="section-header">{{ entry.title }}</h2>
      </ion-col>
      
  
      <!-- Horizontal scroll view -->
      <ion-slides [options]="slideOpts">
        <ion-slide *ngFor="let album of entry.albums" tappable (click)="play(album)">
          <img id="circulo" [src]="'/assets/images/albums/'+dasherize(album.image)+'.jpg'">
          <span class="title">{{ album.title }}</span>
          <div class="lottie" [hidden]="tingles[album.image]['animacao']">
            <ng-lottie 
            [options]="options" 
            width="50px"
            height="50px"
            >
          </ng-lottie>
          </div>
        </ion-slide>
  
      </ion-slides>
    </ion-row>

    
  </div>
</ion-content>